<!--
 * @Author: your name
 * @Date: 2020-11-10 22:12:08
 * @LastEditTime: 2020-12-19 13:59:50
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: /xspreadsheet/index.html
-->
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>开源报表</title>
</head>
<body onload="load()">
  <div id="x-spreadsheet-demo"></div>
  <script>
    function load() {
        //package.json 中 可以修改 dev 命令 webpack-dev-server 为自动编译 webpack 为手动编译
        var xs = x_spreadsheet('#x-spreadsheet-demo', {showToolbar: true, showGrid: true});
        window.xs = xs;
        expand();

        // 在 expand 中进行了 window.xs.currentfield 字段的部分初始化，这里为了模拟跳转后的状态，再写入一些静态数据作为测试时展示
        window.xs.currentField.source = {};
        window.xs.currentField.source.type = "postgresql"; //数据源类型，如果是api数据则为"api"
        window.xs.currentField.source.host = "http://localhost"; //ip地址，如果是数据源则为api地址
        window.xs.currentField.source.port = "5432"; //端口号，如果为api，则为空
        window.xs.currentField.source.username = "root"; //用户名，如果为api，则为空
        window.xs.currentField.source.password = "12345"; //密码，如果为api，则为空
        window.xs.currentField.source.dbname = "postgres"; //库名，如果为api，则为空
        window.xs.currentField.source.tablename = "employee"; //表名，如果为api，则为空

        // 作者和表格名字也是传来的参数
        window.xs.currentField.detail = {};
        window.xs.currentField.detail.author = "HDU";
        window.xs.currentField.detail.filename = "测试表";

        xs.on('cell-selected', (cell, ri, ci) => {
          }).on('cell-edited', (text, ri, ci) => {
          });
      setTimeout(() => {
      }, 5000);
    }
  </script>
  <!--script type="text/javascript" src="https://unpkg.com/x-data-spreadsheet@1.0.20/dist/locale/zh-cn.js"></script-->
</body>
</html>
